# Eventia Core API

Una API REST moderna construida con **FastAPI** para la gestiÃ³n de eventos, integrando bases de datos PostgreSQL, cachÃ© Redis y anÃ¡lisis de seguridad.

## ğŸš€ CaracterÃ­sticas

- **FastAPI**: Framework web de alto rendimiento
- **PostgreSQL**: Base de datos relacional robusta
- **Redis**: CachÃ© en memoria para optimizaciÃ³n
- **Pydantic**: ValidaciÃ³n de datos con tipado fuerte
- **SQLAlchemy**: ORM para manejo de base de datos
- **Bandit**: AnÃ¡lisis de seguridad automatizado
- **Pytest**: Suite completa de testing (unit, integration, system)
- **CI/CD**: Pipeline automÃ¡tico con GitHub Actions

## ğŸ“‹ Requisitos Previos

- Python 3.12+
- PostgreSQL 15+
- Redis 7+
- pip (gestor de paquetes Python)

## ğŸ”§ InstalaciÃ³n

1. **Clonar el repositorio:**
   ```bash
   git clone <tu-repo-url>
   cd eventia-core-api
   ```

2. **Crear entorno virtual:**
   ```bash
   python -m venv venv
   venv\Scripts\activate  # En Windows
   ```

3. **Instalar dependencias:**
   ```bash
   pip install -r requirements.txt
   ```

4. **Configurar variables de entorno:**
   ```bash
   copy .env.example .env
   # Editar .env con tus credenciales
   ```

## ğŸ—„ï¸ Base de Datos

### Inicializar migraciones:
```bash
alembic upgrade head
```

### Crear nueva migraciÃ³n:
```bash
alembic revision --autogenerate -m "DescripciÃ³n del cambio"
```

## â–¶ï¸ Ejecutar la AplicaciÃ³n

```bash
uvicorn src.main:app --reload --host 0.0.0.0 --port 8000
```

La API estarÃ¡ disponible en: `http://localhost:8000`

**DocumentaciÃ³n interactiva:** `http://localhost:8000/docs`

## ğŸ§ª Testing

### Ejecutar todos los tests:
```bash
pytest tests/ -v
```

### Tests por tipo:
```bash
pytest tests/unit/ -v          # Tests unitarios
pytest tests/integration/ -v   # Tests de integraciÃ³n
pytest tests/system/ -v        # Tests del sistema
```

### Cobertura de cÃ³digo:
```bash
pytest --cov=src tests/
```

## ğŸ”’ AnÃ¡lisis de Seguridad

```bash
bandit -r src/
```

## ğŸ“ Estructura del Proyecto

```
eventia-core-api/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.py              # Entrada de la aplicaciÃ³n
â”‚   â”œâ”€â”€ api/                 # Rutas y endpoints
â”‚   â”œâ”€â”€ models/              # Modelos de base de datos
â”‚   â”œâ”€â”€ schemas/             # Esquemas Pydantic
â”‚   â”œâ”€â”€ services/            # LÃ³gica de negocio
â”‚   â””â”€â”€ config.py            # ConfiguraciÃ³n
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ unit/                # Tests unitarios
â”‚   â”œâ”€â”€ integration/         # Tests de integraciÃ³n
â”‚   â””â”€â”€ system/              # Tests del sistema
â”œâ”€â”€ migrations/              # Migraciones de Alembic
â”œâ”€â”€ requirements.txt         # Dependencias Python
â””â”€â”€ .github/workflows/       # CI/CD Pipeline
```

## ğŸ”Œ Variables de Entorno

```env
DATABASE_URL=postgresql://usuario:contraseÃ±a@localhost:5432/eventia_db
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
SECRET_KEY=tu-clave-secreta
DEBUG=False
```

## ğŸ“¦ Dependencias Principales

| LibrerÃ­a | VersiÃ³n | Uso |
|----------|---------|-----|
| fastapi | 0.104.1 | Framework web |
| uvicorn | 0.24.0 | Servidor ASGI |
| sqlalchemy | 2.0.23 | ORM |
| psycopg2-binary | 2.9.9 | Driver PostgreSQL |
| redis | 5.0.1 | Cliente Redis |
| pytest | 7.4.3 | Framework testing |
| bandit | 1.7.5 | AnÃ¡lisis de seguridad |

## ğŸš¦ CI/CD Pipeline

El proyecto incluye un pipeline automatizado en GitHub Actions que ejecuta:

- âœ… Tests unitarios
- âœ… Tests de integraciÃ³n
- âœ… Tests del sistema
- ğŸ”’ AnÃ¡lisis de seguridad (Bandit)

Ver `.github/workflows/ci.yml` para mÃ¡s detalles.
